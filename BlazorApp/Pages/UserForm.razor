@page "/userform"

<h3>User Form</h3>
@if (string.IsNullOrWhiteSpace(result) == false)
{
    <div class="row">

    <h4 class="col-5 text-success">
        @result
    </h4>
    <button @onclick="ClearResult" class=" col-2 btn btn-warning"> Ok
    </button>
    </div>

}

<EditForm Model="person" OnValidSubmit="HandleOnValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <p>
        <label>
           First Name :

            <InputText @bind-Value="@person.FirstName"></InputText>
        </label>
    </p>
    <p>
        <label>
           Last Name :

            <InputText @bind-Value="@person.LastName"></InputText>
        </label>
    </p>
    <p>
        <label>
            Age :

            <InputNumber @bind-Value="@person.Age"></InputNumber>
        </label>
    </p>
    <p>
        <label>
            Give Concent :

            <InputCheckbox @bind-Value="@person.GaveConcent"></InputCheckbox>
        </label>
    </p>

    <button class="btn btn-outline-primary" type="submit">Submit</button>
</EditForm>

@code {
    private PersonModel person = new PersonModel();

    private string result = "";

    private void HandleOnValidSubmit()
    {
        result = "A valid user has been created";
        person = new PersonModel();
    }

    private void ClearResult()
    {
        
        result = string.Empty;

    }

}
